{# main template for the sponsor dashboard #}
{% extends 'sponsor/dashboard/base.html.j2' %} {% load static %} {% load bootstrap %}
{% block head %}
<script src="{% static 'sponsor/js/discounts.js' %}"></script>
{% endblock %}
{% block content %}
<section class="row">
	<h3>{{ title }}</h3>
</section>
<section class="row new-coupon">
	<div class="row">
		<h3>Add new coupon</h3>
	</div>
	<div class="row">
		<div class="panel panel-danger">
			<div class="panel-heading"><i class="fa fa-ticket fa-lg"></i> New Coupon</div>
			<form method="POST">
				<div class="panel-body">
					{% csrf_token %}
					{{ form | bootstrap }}
				</div>
				<div class="panel-footer">
					<button class="btn btn-block btn-danger" type="submit"
					name="data_type" value="add"><i class="fa fa-plus fa-lg"></i> Add!</button>
				</div>
			</form>
		</div>
	</div>
</section>
<section class="row"><hr></section>
<section class="row existing-coupons">
	<div class="row">
		<h3>Edit Existing Coupons</h3>
	</div>
	<div class="row">
		<div class="col-xs-12">
			<div class="panel panel-primary">
				<div class="panel-heading"><i class="fa fa-edit fa-lg"></i> Edit coupon</div>
				<form method="POST">
					<div class="panel-body">
						{% csrf_token %}
						{{ edit_forms.management_form }}
						<table class="table table-striped table-hoverable">
							<thead>
								<tr>
									<th><input type="checkbox"></th>
									<th>Coupon</th>
								</tr>
							</thead>
							<tbody>
								{% for forme in edit_forms.forms %}
								{% with form=forme|bootstrap %}
								<tr>
									<td><input type="checkbox" class="enabler"></td>
									<td class="form-eles">
										{{ form }}
									</td>
								</tr>
								{% endwith %}
								{% endfor %}
							</tbody>
						</table>
					</div>
					<div class="panel-footer">
						<button type="submit" class="btn btn-block btn-primary" name="data_type" value="update"><i class="fa fa-chevron-up fa-lg"></i> Update</button>
					</div>
				</form>
			</div>
		</div>
	</div>
</section>
{% endblock %}
